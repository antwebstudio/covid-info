(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2:function(e,t,n){"use strict";n.r(t);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.errors=t}var t,n,r;return t=e,(n=[{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"any",value:function(){return Object.keys(this.errors).length>0}},{key:"get",value:function(e){if(this.errors[e])return this.errors[e][0]}},{key:"record",value:function(e){this.errors=e.errors}},{key:"clear",value:function(e){e?delete this.errors[e]:this.errors={}}}])&&o(t.prototype,n),r&&o(t,r),e}(),a=n(16),c=n.n(a),u=n(21),l=n(14),f=n.n(l),d={namespaced:!0,state:{user:null,isAuthenticated:!1,requiresAuth:null},getters:{getUser:function(e){return e.user},isAuthenticated:function(e){return e.isAuthenticated},requiresAuth:function(e){return e.requiresAuth}},mutations:{setUser:function(e,t){e.user=t},setIsAuthenticated:function(e,t){e.isAuthenticated=t},setRequiresAuth:function(e,t){e.requiresAuth=t}},actions:{authenticate:function(e,t){var n=e.state,i=(e.rootState,e.commit),o=f.a.get("XSRF-TOKEN"),r=n.user;i("setIsAuthenticated",!!o&&!!r),1!=n.requiresAuth||n.isAuthenticated||Fusion.router.push(t.guestNext),0==n.requiresAuth&&n.isAuthenticated&&Fusion.router.push(t.adminNext)}}},m=n(8),g=n.n(m),p={namespaced:!0,state:{page:1,totalPages:1,form:{},forms:[],fields:[],response:{},responses:[],loading:!1},getters:{getPage:function(e){return e.page},getTotalPages:function(e){return e.totalPages},getLoading:function(e){return e.loading},getResponse:function(e){return e.response},getResponses:function(e){return e.responses},getForm:function(e){return e.form},getForms:function(e){return e.forms},getFields:function(e){return e.fields}},mutations:{setPage:function(e,t){e.page=t},setTotalPages:function(e,t){e.totalPages=t},setLoading:function(e,t){e.loading=t},setResponse:function(e,t){e.response=t},setResponses:function(e,t){e.responses=t},setForm:function(e,t){e.form=t},setForms:function(e,t){e.forms=t},setFields:function(e,t){e.fields=t}},actions:{fetchForms:function(e){return axios.get("/api/forms").then((function(t){e.commit("setForms",t.data.data)}))},fetchResponses:function(e){if(e.state.form.slug)return e.dispatch("isLoading"),axios.get("/api/forms/"+e.state.form.slug+"/responses?page="+e.state.page).then((function(t){e.commit("setResponses",t.data.data),e.commit("setTotalPages",t.data.meta.last_page),e.dispatch("doneLoading")}))},selectForm:function(e,t){e.dispatch("reset"),e.commit("setForm",t),e.dispatch("fetchResponses")},selectResponse:function(e,t){e.commit("setResponse",t),e.dispatch("extractFields",t)},clearResponse:function(e){e.commit("setResponse",{})},selectFirstResponse:function(e){e.state.responses.length&&e.dispatch("selectResponse",g.a.head(e.state.responses))},extractFields:function(e,t){var n=[],i=t.form.fieldset.sections;g.a.each(i,(function(e){g.a.each(e.fields,(function(e){n.push(e)}))})),e.commit("setFields",n)},isLoading:function(e){e.commit("setLoading",!0)},doneLoading:function(e){e.commit("setLoading",!1)},jumpPage:function(e,t){e.commit("setPage",t)},nextPage:function(e){e.state.page!==e.state.totalPages&&e.commit("setPage",e.state.page+1)},prevPage:function(e){1!==e.state.page&&e.commit("setPage",e.state.page-1)},firstPage:function(e){e.commit("setPage",1)},lastPage:function(e){e.commit("setPage",e.state.totalPages)},reset:function(e){e.commit("setPage",1),e.commit("setTotalPages",1),e.commit("setForm",{}),e.commit("setFields",[]),e.commit("setResponse",{}),e.commit("setResponses",[]),e.commit("setLoading",!1)}}},h={namespaced:!0,state:{groups:{},settings:{}},getters:{getGroup:function(e){return function(t){return e.groups[t]}},getGroups:function(e){return e.groups},getGroupSections:function(e){return _.groupBy(e.groups,"group")},getSetting:function(e){return function(t){return e.settings[t]}},getSettings:function(e){return e.settings}},mutations:{setGroups:function(e,t){e.groups=_.keyBy(t,"handle")},setSettings:function(e,t){var n={};_.each(t,(function(e){_.each(e.settings,(function(t,i){n[e.handle+"."+i]=t}))})),e.settings=n}},actions:{fetchSettings:function(e){axios.get("/api/settings").then((function(t){e.commit("setGroups",t.data.data),e.commit("setSettings",t.data.data)})).catch((function(e){console.error("There was an error fetching the system settings..."),console.error(e.message)}))}}},v={namespaced:!0,state:{navigation:[]},getters:{getNavigation:function(e){return e.navigation}},mutations:{SET_NAVIGATION:function(e,t){e.navigation=t}},actions:{fetchAdminNavigation:function(e){axios.get("/api/admin/navigation").then((function(t){e.commit("SET_NAVIGATION",t.data.data)})).catch((function(e){console.log("There was an error fetching the navigation...")}))}}},y={namespaced:!0,state:{fieldtypes:{},excluded:[]},getters:{get:function(e){return _.mapValues(e.fieldtypes,(function(t,n){return t.disabled=e.excluded.includes(n),t}))}},mutations:{set:function(e,t){e.fieldtypes=t},setExcluded:function(e,t){e.excluded=t}},actions:{fetch:function(e){var t=e.state,n=e.commit;_.isEmpty(t.fieldtypes)&&axios.get("/api/fieldtypes").then((function(e){return n("set",e.data.data)})).catch((function(e){return console.log(e)}))}}},b={namespaced:!0,state:{loading:!0,files:[],directory:0,directories:[],selected:{files:[],directories:[]},rootDirectory:0,currentDirectory:0,parentDirectory:0,breadcrumbs:[],search:"",display:"everything",sort:"name",direction:"asc",view:"grid",currentPage:1,totalPages:1,uploadProgress:0,uploadsVisible:!1,uploadsMinimized:!1,fileUploads:[],dropzoneVisible:!1,dropzoneEnabled:!0},getters:{getLoading:function(e){return e.loading},getFiles:function(e){return e.files},getDirectories:function(e){return e.directories},getBreadcrumbs:function(e){return e.breadcrumbs},getView:function(e){return e.view},getSearch:function(e){return e.search},getRootDirectory:function(e){return e.rootDirectory},getCurrentDirectory:function(e){return e.currentDirectory},getParentDirectory:function(e){return e.parentDirectory},getDisplay:function(e){return e.display},getSort:function(e){return e.sort},getDirection:function(e){return e.direction},getSelectedFiles:function(e){return e.selected.files},getSelectedDirectories:function(e){return e.selected.directories},hasSelection:function(e){return e.selected.files.length+e.selected.directories.length>0},selectionCount:function(e){return e.selected.files.length+e.selected.directories.length},getCurrentPage:function(e){return e.currentPage},getTotalPages:function(e){return e.totalPages},getUploadProgress:function(e){return e.uploadProgress},getUploadsVisible:function(e){return e.uploadsVisible},getUploadsMinimized:function(e){return e.uploadsMinimized},getFileUploads:function(e){return e.fileUploads},getDropzoneVisible:function(e){return e.dropzoneVisible&&e.dropzoneEnabled},getFileFilters:function(e){return{"filter[directory_id]":e.currentDirectory,"filter[display]":"everything"!==e.display?e.display:null,"filter[search]":""!==e.search?e.search:null,sort:("asc"===e.direction?"":"-")+e.sort,page:e.currentPage,perPage:e.perPage}},getDirectoryFilters:function(e){return{"filter[search]":""!==e.search?e.search:null,"filter[parent_id]":e.currentDirectory,sort:"name"==e.sort?"asc"===e.direction?"name":"-name":null}}},mutations:{setLoading:function(e,t){e.loading=t},setFiles:function(e,t){e.files=t},setDirectory:function(e,t){e.directory=t},setDirectories:function(e,t){e.directories=t},setRootDirectory:function(e,t){e.rootDirectory=t},setCurrentDirectory:function(e,t){e.currentDirectory=t},setParentDirectory:function(e,t){e.parentDirectory=t},setBreadcrumbs:function(e,t){e.breadcrumbs=t},setView:function(e,t){e.view=t},setSearch:function(e,t){e.search=t},setDisplay:function(e,t){e.display=t},setSort:function(e,t){e.sort=t},setDirection:function(e,t){e.direction=t},addFile:function(e,t){e.files.push(t)},toggleFileSelection:function(e,t){e.selected.files=g.a.xor(e.selected.files,[t])},clearFileSelection:function(e){e.selected.files=[]},toggleDirectorySelection:function(e,t){e.selected.directories=g.a.xor(e.selected.directories,[t])},clearDirectorySelection:function(e){e.selected.directories=[]},removeFiles:function(e,t){g.a.each(t,(function(t){var n=g.a.findIndex(e.files,(function(e){return e.id==t}));e.files.splice(n,1)}))},clearFiles:function(e){e.files=[]},setCurrentPage:function(e,t){e.currentPage=t},setTotalPages:function(e,t){e.totalPages=t},setUploadProgress:function(e,t){e.uploadProgress=t},setUploadsMinimized:function(e,t){e.uploadsMinimized=t},setUploadsVisible:function(e,t){e.uploadsVisible=t},setFileUploads:function(e,t){e.fileUploads=t},addFileUpload:function(e,t){e.fileUploads.push(t)},setDropzoneVisible:function(e,t){e.dropzoneVisible=t},setDropzoneEnabled:function(e,t){e.dropzoneEnabled=t}},actions:{reset:function(e){var t=e.commit;t("setRootDirectory",0),t("setCurrentDirectory",null),t("setParentDirectory",null),t("clearFileSelection"),t("clearDirectorySelection")},setLoading:function(e,t){e.commit("setLoading",t)},setFiles:function(e,t){e.commit("setFiles",t)},addFile:function(e,t){e.commit("addFile",t)},toggleFileSelection:function(e,t){e.commit("toggleFileSelection",t)},toggleDirectorySelection:function(e,t){e.commit("toggleDirectorySelection",t)},clearFiles:function(e){e.commit("clearFiles")},removeFiles:function(e,t){e.commit("removeFiles",t)},clearFileSelection:function(e){e.commit("clearFileSelection")},clearDirectorySelection:function(e){e.commit("clearDirectorySelection")},fetchFilesAndDirectories:g.a.throttle((function(e){var t=e.state,n=e.getters,i=e.commit,o=e.dispatch;i("setLoading",!0);var r=null;t.currentDirectory>0&&(r=axios.get("/api/directories/".concat(t.currentDirectory))),axios.all([axios.get("/api/files",{params:n.getFileFilters}),axios.get("/api/directories",{params:n.getDirectoryFilters}),r]).then(axios.spread((function(e,t,n){i("setFiles",e.data.data),i("setTotalPages",e.data.meta.last_page),i("setDirectories",t.data.data),i("setDirectory",n?n.data.data:null),i("setLoading",!1),o("setBreadcrumbs")}))).catch((function(e){console.error(e)}))}),500),moveFileToDirectory:function(e,t){e.commit,e.state;var n=e.dispatch;axios.post("/api/files/move",{directory:t.directory,moving:t.moving}).then((function(e){n("fetchFilesAndDirectories"),toast("File(s) have been successfully moved!","success")})).catch((function(e){toast(e.response.data.errors.moving[0],"failed")}))},setSearch:function(e,t){e.commit("setSearch",t)},setDisplay:function(e,t){e.commit("setDisplay",t)},setSort:function(e,t){e.commit("setSort",t)},setDirection:function(e,t){e.commit("setDirection",t)},setBreadcrumbs:function(e){for(var t=e.state,n=e.commit,i=[],o=t.directory,r=t.rootDirectory;g.a.has(o,"id")&&o.id!=r;)i.unshift(o),o=o.parent;0==r?i.unshift({id:null,name:"Root"}):i.unshift(o),n("setBreadcrumbs",i)},setDirectories:function(e,t){e.commit("setDirectories",t)},setRootDirectory:function(e,t){e.commit("setRootDirectory",t)},setCurrentDirectory:function(e,t){e.commit("setCurrentDirectory",t)},setParentDirectory:function(e,t){e.commit("setParentDirectory",t)},setCurrentPage:function(e,t){e.commit("setCurrentPage",t)},setTotalPages:function(e,t){e.commit("setTotalPages",t)},setUploadProgress:function(e,t){e.commit("setUploadProgress",t)},setUploadsVisible:function(e,t){e.commit("setUploadsVisible",t)},setUploadsMinimized:function(e,t){e.commit("setUploadsMinimized",t)},setFileUploads:function(e,t){e.commit("fileUploads",t)},addFileUpload:function(e,t){e.commit("addFileUpload",t)},setDropzoneVisible:function(e,t){e.commit("setDropzoneVisible",t)},setDropzoneEnabled:function(e,t){e.commit("setDropzoneEnabled",t)},toggleView:function(e){"grid"===e.state.view?e.commit("setView","list"):e.commit("setView","grid")},toggleDirection:function(e){"asc"===e.state.direction?e.commit("setDirection","desc"):e.commit("setDirection","asc")}}},P={namespaced:!0,state:{loading:!0,forms:[],selected:[],search:"",currentPage:1,totalPages:1},getters:{getLoading:function(e){return e.loading},getForms:function(e){return e.forms},getSelected:function(e){return e.selected},getSearch:function(e){return e.search},getCurrentPage:function(e){return e.currentPage},getTotalPages:function(e){return e.currentPage}},mutations:{setLoading:function(e,t){e.loading=t},setForms:function(e,t){e.forms=t},addForm:function(e,t){e.forms.push(t)},setSelected:function(e,t){e.forms=t},toggleSelection:function(e,t){e.selected=_.xor(e.selected,[t])},clearSelection:function(e){e.selected=[]},setSearch:function(e,t){e.search=t},setCurrentPage:function(e,t){e.currentPage=t},setTotalPages:function(e,t){e.totalPages=t}},actions:{setLoading:function(e,t){e.commit("setLoading",t)},setForms:function(e,t){e.commit("setForms",t)},addForm:function(e,t){e.commit("addForm",t)},setCurrentPage:function(e,t){e.commit("setCurrentPage",t)},setTotalPages:function(e,t){e.commit("setTotalPages",t)},toggleSelection:function(e,t){e.commit("toggleSelection",t)},clearSelection:function(e){e.commit("clearSelection")},setSearch:function(e,t){e.commit("setSearch",t)},fetchForms:_.throttle((function(e){var t=e.state,n=e.commit;n("setLoading",!0);var i={sort:"name",page:t.currentPage,perPage:t.perPage,filter:{}};""!==t.search&&(i["filter[search]"]=t.search),axios.all([axios.get("/datatable/forms",{params:i})]).then(axios.spread((function(e){n("setForms",e.data.records.data),n("setTotalPages",e.data.records.data.last_page),n("setLoading",!1)})))}),500)}};function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={namespaced:!0,state:{loading:!0,users:[],roles:[],selected:[],search:"",role:null,sort:"name",direction:"asc",view:"grid",currentPage:1,totalPages:1},getters:{getLoading:function(e){return e.loading},getUsers:function(e){return e.users},getRoles:function(e){return e.roles},getSelected:function(e){return e.selected},getRole:function(e){return e.role},getSearch:function(e){return e.search},getSort:function(e){return e.sort},getDirection:function(e){return e.direction},getView:function(e){return e.view},getCurrentPage:function(e){return e.currentPage},getTotalPages:function(e){return e.currentPage}},mutations:{setLoading:function(e,t){e.loading=t},setUsers:function(e,t){e.users=t},addUser:function(e,t){e.users.push(t)},setRoles:function(e,t){e.roles=t},setSelected:function(e,t){e.users=t},toggleSelection:function(e,t){e.selected=_.xor(e.selected,[t])},clearSelection:function(e){e.selected=[]},setSearch:function(e,t){e.search=t},setSort:function(e,t){e.sort=t},setDirection:function(e,t){e.direction=t},setRole:function(e,t){e.role=t},setView:function(e,t){e.view=t},setCurrentPage:function(e,t){e.currentPage=t},setTotalPages:function(e,t){e.totalPages=t}},actions:(r={setLoading:function(e,t){e.commit("setLoading",t)},setUsers:function(e,t){e.commit("setUsers",t)},addUser:function(e,t){e.commit("addUser",t)},setRoles:function(e,t){e.commit("setRoles",t)},setRole:function(e,t){e.commit("setRole",t)},setCurrentPage:function(e,t){e.commit("setCurrentPage",t)},setTotalPages:function(e,t){e.commit("setTotalPages",t)},toggleSelection:function(e,t){e.commit("toggleSelection",t)},clearSelection:function(e){e.commit("clearSelection")},setSearch:function(e,t){e.commit("setSearch",t)}},D(r,"setRole",(function(e,t){e.commit("setRole",t)})),D(r,"setSort",(function(e,t){e.commit("setSort",t)})),D(r,"setDirection",(function(e,t){e.commit("setDirection",t)})),D(r,"toggleView",(function(e){"grid"===e.state.view?e.commit("setView","list"):e.commit("setView","grid")})),D(r,"toggleDirection",(function(e){"asc"===e.state.direction?e.commit("setDirection","desc"):e.commit("setDirection","asc")})),D(r,"fetchUsers",_.throttle((function(e){var t=e.state,n=e.commit;n("setLoading",!0);var i="/datatable/users",o={sort:("asc"===t.direction?"":"-")+t.sort,page:t.currentPage,perPage:t.perPage,filter:{}};t.role&&(i+="/".concat(t.role)),""!==t.search&&(o["filter[search]"]=t.search),axios.all([axios.get(i,{params:o}),axios.get("/api/roles")]).then(axios.spread((function(e,t){n("setUsers",e.data.records.data),n("setRoles",t.data.data),n("setTotalPages",e.data.records.data.last_page),n("setLoading",!1)})))}),500)),r)};c.a.use(u.a);var F=new u.a.Store({modules:{auth:d,form:{namespaced:!0,state:{preventNavigation:!1,confirmModalVisible:!1,confirmModalCallback:null},getters:{preventNavigation:function(e){return e.preventNavigation},confirmModalVisible:function(e){return e.confirmModalVisible},confirmModalCallback:function(e){return e.confirmModalCallback}},mutations:{setPreventNavigation:function(e,t){e.preventNavigation=t},setConfirmModalVisible:function(e,t){e.confirmModalVisible=t},setConfirmModalCallback:function(e,t){e.confirmModalCallback=t}}},inbox:p,fusion:{namespaced:!0,state:{version:null},getters:{getVersion:function(e){return e.version}},mutations:{setVersion:function(e,t){e.version=t}}},settings:h,navigation:v,fieldtypes:y,filemanager:b,formmanager:P,usermanager:x}});function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var w=_.debounce((function(e){var t=!_.isEqual(e.orig,e.data());e.blockNav&&e.hasChanges!=t&&F.commit("form/setPreventNavigation",t),e.hasChanges=t}),250),k=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];S(this,e),this.blockNav=i,this.orig=t,this.errors=new s,this.hasChanges=!1;var o=this,r={set:function(e,t,n,i){return Reflect.set.apply(Reflect,arguments),w(o),!0}};return _.each(t,(function(e,t){n[t]=n.proxify(e,r)})),new Proxy(this,r)}var t,n,i;return t=e,(n=[{key:"proxify",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.isArray(e)?_.map(e,(function(e,i){return t.proxify(e,n)})):_.isObject(e)?new Proxy(_.mapValues(e,(function(e,i){return t.proxify(e,n)})),n):e}},{key:"data",value:function(){var e=this;return _.mapValues(this.orig,(function(t,n){return e[n]}))}},{key:"formdata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new FormData,n={};return _.each(this.data(),(function(e,i){e instanceof FileList?_.each(e,(function(e){return t.append("".concat(i,"[]"),e)})):e instanceof File?t.append(i,e):n[i]=e})),_.isEmpty(n)||t.append("_json",JSON.stringify(n)),_.each(e,(function(e,n){return t.append(n,e)})),t}},{key:"post",value:function(e){return this.submit("post",e,this.formdata())}},{key:"patch",value:function(e){return this.submit("post",e,this.formdata({_method:"PATCH"}))}},{key:"put",value:function(e){return this.submit("post",e,this.formdata({_method:"PUT"}))}},{key:"delete",value:function(e){return this.submit("post",e,this.formdata({_method:"DELETE"}))}},{key:"submit",value:function(e,t,n){var i=this;return new Promise((function(o,r){axios[e](t,n).then((function(e){i.onSuccess(e.data),o(e.data)})).catch((function(e){i.onFailure(e.response.data),r(e.response.data)}))}))}},{key:"onSuccess",value:function(e){this.orig=_.cloneDeep(this.data()),this.hasChanges=!1,this.errors.clear(),this.blockNav&&F.commit("form/setPreventNavigation",!1)}},{key:"onFailure",value:function(e){this.errors.record(e)}}])&&C(t.prototype,n),i&&C(t,i),e}(),R={props:{entry:{required:!1},extension:{required:!0},form:{type:Object,required:!0}},computed:{sections:function(){var e=[],t=[];return this.extension.fieldset&&(e=_.filter(this.extension.fieldset.sections,(function(e){return"body"==e.placement})),t=_.filter(this.extension.fieldset.sections,(function(e){return"sidebar"==e.placement}))),{body:e,sidebar:t}}}},T=n(5),U={head:{title:function(){return{inner:"Tag"}}},components:{"shared-form":Object(T.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form-container",{scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("div",{staticClass:"card"},[n("div",{staticClass:"card__body"},[e.extension.show_name_field||e.entry.id?n("p-slug",{attrs:{name:"slug",label:"Slug",monospaced:"",autocomplete:"off",required:"",help:e.extension.show_name_field?"":"This field is auto-generated based on pattern specified.",watch:e.form.name,readonly:!e.extension.show_name_field,"has-error":e.form.errors.has("slug"),"error-message":e.form.errors.get("slug")},model:{value:e.form.slug,callback:function(t){e.$set(e.form,"slug",t)},expression:"form.slug"}}):e._e()],1)]),e._v(" "),e._l(e.sections.sidebar,(function(t){return n("div",{key:t.handle,staticClass:"card"},[n("div",{staticClass:"card__header"},[n("h3",{staticClass:"card__title"},[e._v(e._s(t.name))]),e._v(" "),t.description?n("p",{staticClass:"card__subtitle"},[e._v(e._s(t.description))]):e._e()]),e._v(" "),n("div",{staticClass:"card__body"},e._l(t.fields,(function(i){return n("div",e._l(t.fields,(function(t){return n(t.type.id+"-fieldtype",{key:t.handle,tag:"component",attrs:{field:t,"has-error":e.form.errors.has(t.handle),"error-message":e.form.errors.get(t.handle)},model:{value:e.form[t.handle],callback:function(n){e.$set(e.form,t.handle,n)},expression:"form[field.handle]"}})})),1)})),0)])})),e._v(" "),e.entry?n("p-definition-list",[n("p-definition",{attrs:{name:"Status"}},[n("fa-icon",{staticClass:"fa-fw text-xs",class:{"text-success-500":e.entry.status,"text-danger-500":!e.entry.status},attrs:{icon:["fas","circle"]}}),e._v(" "+e._s(e.entry.status?"Enabled":"Disabled")+"\r\n                ")],1),e._v(" "),n("p-definition",{attrs:{name:"Created At"}},[e._v("\r\n                    "+e._s(e.$moment(e.entry.created_at).format("Y-MM-DD, hh:mm a"))+"\r\n                ")]),e._v(" "),n("p-definition",{attrs:{name:"Updated At"}},[e._v("\r\n                    "+e._s(e.$moment(e.entry.updated_at).format("Y-MM-DD, hh:mm a"))+"\r\n                ")])],1):e._e()]},proxy:!0}])},[n("portal",{attrs:{to:"actions"}},[n("div",{staticClass:"buttons"},[e.extension.slug?n("router-link",{staticClass:"button button--secondary",attrs:{to:{name:"extension.index",params:{extension:e.extension.slug}}}},[e._v("Go Back")]):e._e(),e._v(" "),n("button",{staticClass:"button button--primary",class:{"button--disabled":!e.form.hasChanges},attrs:{type:"submit",disabled:!e.form.hasChanges},on:{click:function(t){return t.preventDefault(),e.$parent.submit(t)}}},[e._v("Save")])],1)]),e._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card__body"},[n("p-title",{attrs:{name:"name",label:e.extension.name_label||"Name",autocomplete:"off",autofocus:"",required:"",placeholder:e.extension.name_label||"Name","has-error":e.form.errors.has("name"),"error-message":e.form.errors.get("name")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),e.sections.body.length>0?n("p-tabs",e._l(e.sections.body,(function(t){return n("p-tab",{key:t.handle,attrs:{name:t.name}},e._l(t.fields,(function(t){return n(t.type.id+"-fieldtype",{key:t.handle,tag:"component",staticClass:"form__group",attrs:{field:t,errors:e.form.errors},model:{value:e.form[t.handle],callback:function(n){e.$set(e.form,t.handle,n)},expression:"form[field.handle]"}})})),1)})),1):n("div",{staticClass:"text-center"},[n("p",[e._v("Things are looking a little empty here!")]),e._v(" "),n("router-link",{staticClass:"button",attrs:{to:"/extensions/"+e.extension.id+"/edit"}},[e._v("Configure your extension")])],1)],1)])],1)],1)}),[],!1,null,null,null).exports},data:function(){return{form:null,entry:{},extension:{},endpoint:"/datatable/tags"}},methods:{submit:function(){var e=this;this.form.patch("/api/tag/"+this.entry.id).then((function(t){toast("Tag saved successfully","success"),e.$router.push("/tags")})).catch((function(e){toast(e.message,"failed")}))}},beforeRouteEnter:function(e,t,n){axios.get("/api/tag/"+e.params.id).then((function(e){console.log("response",e),n((function(t){var n=e.data.data.extension,i=e.data.data.entry,o={name:i.name,slug:i.slug,status:i.status};t.extension=n,t.entry=i,n.fieldset&&_.forEach(n.fieldset.sections,(function(e){_.forEach(e.fields,(function(e){o[e.handle]=i[e.handle]}))})),t.form=new k(o,!0)}))}))}},V=Object(T.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("portal",{attrs:{to:"title"}},[n("page-title",{attrs:{icon:"pencil-alt"}},[e._v("Edit "+e._s(e.entry.name))])],1),e._v(" "),e.form?n("shared-form",{attrs:{form:e.form,entry:e.entry,extension:e.extension}}):e._e()],1)}),[],!1,null,null,null);t.default=V.exports}}]);